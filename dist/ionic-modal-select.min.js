!function(e){function n(o){if(t[o])return t[o].exports;var i=t[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";t(1)},function(e,n,t){"use strict";function o(e){return function(n,t,o){var i=n.$watch(function(e){return e.$eval(o.compile)},function(a){t.html(a),e(t.contents())(n),"true"===o.compileOnce&&i()})}}function i(e,n,o,i,s){var l=t(2),r=t(3);return{restrict:"A",require:"ngModel",scope:{initialOptions:"=options",optionGetter:"&",searchFilters:"=searchFilters",searchProperties:"=",onSelect:"&",onSearch:"&",onReset:"&",onClose:"&"},link:function(t,c,u,d,h){function p(e){e=e||[],S?(V=e.map(function(e,n){return[n,angular.copy(e)]}),t.options=angular.copy(V)):(V=angular.copy(e),t.options=angular.copy(e))}function m(){"true"===u.useCollectionRepeat?f=!1:"false"===u.useCollectionRepeat?f=!0:"undefined"!=typeof t.options&&(f=!!(t.options.length<b)),t.ui.shortList=f}var f=!0,b=u.shortListBreak?parseInt(u.shortListBreak):10,g=u.optionProperty,v=u.optionGetter,w="false"!==u.clearSearchOnSelect,y=!!t.searchProperties&&t.searchProperties,S=!!u.multiple;S&&(t.isChecked={});var C=u.multipleNullValue?t.$eval(u.multipleNullValue):[];t.ui={modalTitle:u.modalTitle||"Select an option",okButton:u.okButton||"OK",hideReset:"true"===u.hideReset,hideFooter:("true"===u.hideFooter,!0),resetButton:u.resetButton||"Reset",cancelButton:u.cancelButton||"Cancel",loadListMessage:u.loadListMessage||"Loading",modalClass:u.modalClass||"",headerFooterClass:u.headerFooterClass||"bar-stable",value:null,selectedClass:u.selectedClass||"option-selected",itemClass:u.itemClass||"item item-text-wrap",searchTemplate:u.searchTemplate||(S?l:r),hasSearch:"true"===u.hasSearch,searchValue:"",searchPlaceholder:u.searchPlaceholder||"Search",subHeaderClass:u.subHeaderClass||"bar-stable",cancelSearchButton:u.cancelSearchButton||"Clear"};var V=[];if(t.options=[],u.optionsExpression){var k=u.optionsExpression,x=k.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!x)throw new Error("collection-repeat expected expression in form of '_item_ in _collection_[ track by _id_]' but got '"+u.optionsExpression+"'.");var $=x[2],L=i($),F=c.scope();t.$watch(function(){return L(F)},function(e,n){p(e),m()},!0)}else t.$watchCollection("initialOptions",function(e){p(e),m()});var B=c[0].querySelector(".option");if(!B)throw new Error({name:"modalSelectError:noOptionTemplate",message:'When using modalSelect directive you must include an element with class "option"\n\t\t\t\t\t\t to provide a template for your select options.',toString:function(){return this.name+" "+this.message}});t.inner=angular.element(B).html(),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode.removeChild(this)}),angular.element(B).remove();var O=c[0].querySelector(".not-found");O&&(t.notFound=angular.element(O).html(),angular.element(O).remove()),d.$render=function(){t.ui.value=d.$viewValue};var R=t.getSelectedValue=function(e){var n=null;return null===e||void 0===e?e:v?t.optionGetter({option:e}):n=g?e[g]:e};t.setOption=function(e){var n=d.$viewValue,o=R(e);d.$setViewValue(o),d.$render(),t.onSelect&&t.onSelect({newValue:o,oldValue:n}),t.modal.hide().then(function(){t.showList=!1,t.ui.hasSearch&&w&&(t.ui.searchValue="")})},t.setFilter=function(e){angular.forEach(t.searchFilters,function(n){n.id==e?n.active=!n.active:n.active=!1}),t.onSearch&&t.onSearch({query:t.ui.searchValue})},t.unsetValue=function(){n(function(){d.$setViewValue(""),d.$render(),t.modal.hide(),t.showList=!1,t.onReset&&angular.isFunction(t.onReset)&&t.onReset()})},t.setValues=function(){var e=[];angular.forEach(t.isChecked,function(n,t){n&&e.push(V[t][1])});var n=d.$viewValue,o=e.map(function(e){return R(e)});d.$setViewValue(o),d.$render(),t.onSelect&&t.onSelect({newValue:o,oldValue:n}),t.modal.hide().then(function(){t.showList=!1,t.ui.hasSearch&&w&&(t.ui.searchValue="")})},t.unsetValues=function(){n(function(){d.$setViewValue(C),d.$render(),t.isChecked={},t.modal.hide(),t.showList=!1,t.onReset&&angular.isFunction(t.onReset)&&t.onReset()})},t.closeModal=function(){t.modal.hide().then(function(){t.showList=!1})},t.compareValues=function(e,n){return angular.equals(e,n)};var M=null;u.searchTemplate?t.modal=e.fromTemplate(s.get(u.searchTemplate),{scope:t}):(M=S?l:r,t.modal=e.fromTemplate(M,{scope:t}));var T=null;t.$on("$destroy",function(){T&&(T(),T=null),t.modal.remove()}),t.onClose&&angular.isFunction(t.onClose)&&(T=t.$on("modal.hidden",function(){t.onClose()})),c.on("click",function(){f?(t.showList=!0,t.modal.show()):t.modal.show().then(function(){t.showList=!0,t.ui.shortList=f})}),t.ui.hasSearch&&(t.$watch("ui.searchValue",function(e){var n;if(n=S?V.map(function(e){return e[1]}):V,u.onSearch)t.onSearch({query:e});else{var i=o("filter")(n,e,function(e,n){if(!e)return!1;if(y){if("object"==("undefined"==typeof e?"undefined":a(e)))for(var t=0;t<y.length;t++)if(e[y[t]]&&e[y[t]].toLowerCase().indexOf(n.toLowerCase())>=0)return!0;return!1}return e.toString().toLowerCase().indexOf(n.toLowerCase())>=0}),s=t.options.length;if(S){var l=[];angular.forEach(i,function(e){var n=V.find(function(n){return n[1]==e});n&&l.push(n)}),t.options=l}else t.options=i;s!=t.options.length}}),t.clearSearch=function(){t.ui.searchValue=""}),t.copyOpt=function(e){return angular.copy(e)},d.$render()}}}o.$inject=["$compile"],i.$inject=["$ionicModal","$timeout","$filter","$parse","$templateCache"];var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};/*!
	 * Copyright 2015 Inmagik SRL.
	 * http://www.inmagik.com/
	 *
	 * ionic-modal-select, v1.3.2
	 * Modal select directive for Ionic framework.
	 *
	 * By @bianchimro
	 *
	 * Licensed under the MIT license. Please see LICENSE for more information.
	 *
	 */
angular.module("ionic-modal-select",[]).directive("compile",o).directive("modalSelect",i)},function(e,n){e.exports=' <ion-modal-view class="ionic-select-modal" ng-class="::ui.modalClass">\n\n    <ion-header-bar ng-class="::ui.headerFooterClass">\n      <h1 class="title">{{::ui.modalTitle}}</h1>\n    </ion-header-bar>\n\n    <div class="bar bar-subheader item-input-inset" ng-class="::ui.subHeaderClass" ng-if="ui.hasSearch">\n      <label class="item-input-wrapper">\n        <i class="icon ion-ios-search placeholder-icon"></i>\n        <input type="search" placeholder="{{::ui.searchPlaceholder}}" ng-model="ui.searchValue">\n\n        <!-- To clear text: show X in the right corner of the text box. Only show when ui.hideFooter is on -->\n        <a ng-if="ui.searchValue.length" ng-show="::!ui.hideFooter" on-tap="clearSearch()" class="input-button button-dark icon ion-android-close"></a>\n      </label>\n      <!-- When don\'t show footer, user can cancel from search bar button -->\n      <button ng-if="::ui.hideFooter" type="button" class="button button-clear" ng-click="clearSearch()">\n        {{ ui.cancelSearchButton }}\n      </button>\n      <button ng-if="::!ui.hideFooter" type="button" class="button button-clear" ng-click="closeModal()">\n        {{ ui.cancelButton }}\n      </button>\n    </div>\n\n    <ion-content class="has-header" ng-class="{\'has-subheader\':ui.hasSearch}">\n    <div class="text-center" ng-if="!ui.shortList && !showList" style="padding-top:40px;">\n        <h4 class="muted">{{::ui.loadListMessage}}</h4>\n        <p>\n            <ion-spinner></ion-spinner>\n        </p>\n    </div>\n\n    <div ng-if="showList">\n        <!--collection-repeat mode -->\n        <!-- not working right now -->\n        <!--\n        <div ng-if="!ui.shortList" >\n            <div class="list" class="animate-if" >\n                <div\n                    class="item item-checkbox" ng-class="ui.itemClass"\n                     collection-repeat="optionm in options track by $index">\n                    <label class="checkbox">\n                        <input type="checkbox" ng-model="isChecked[optionm[0]]">\n                    </label>\n\n                    <div compile="inner" ng-init="option=optionm[1]" compile-once="false"></div>\n\n                </div>\n            </div>\n        </div>\n        -->\n\n        <!-- ng-repeat mode -->\n        <div ng-if="ui.shortList || true">\n            <div class="list">\n                <div\n                  class="item item-checkbox" ng-class="ui.itemClass"\n                  ng-repeat="optionm in options track by optionm[0]">\n                    <label class="checkbox">\n                        <input type="checkbox" ng-model="isChecked[optionm[0]]">\n                    </label>\n                    <div ng-init="option=optionm[1]" compile="inner" compile-once="true"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n    </ion-content>\n    <ion-footer-bar ng-if="::!ui.hideFooter" ng-class="::ui.headerFooterClass">\n        <button class="button button-stable" ng-click="closeModal()">{{ui.cancelButton}}</button>\n        <div class="title" style="padding-top:6px">\n            <button class="button button-navbar" ng-click="setValues()">OK</button>\n        </div>\n        <button ng-if="::!ui.hideReset" class="button button-stable" ng-click="unsetValues()">{{ui.resetButton}}</button>\n    </ion-footer-bar>\n</ion-modal-view>\n'},function(e,n){e.exports=' <ion-modal-view class="ionic-select-modal" ng-class="::ui.modalClass">\n\n    <ion-header-bar ng-class="::ui.headerFooterClass">\n      <h1 class="title">{{::ui.modalTitle}}</h1>\n      <!-- If doesnt have footer user can cancel from Header -->\n      <button class="button button-icon" \n              ng-click="closeModal()"\n              ng-if="ui.hideFooter && !ui.hasSearch">\n              <i class="icon ion-ios-close-empty"></i>\n      </button>\n    </ion-header-bar>\n\n    <div class="bar bar-subheader item-input-inset" ng-class="::ui.subHeaderClass" ng-if="ui.hasSearch">\n      <label class="item-input-wrapper">\n        <i class="icon ion-ios-search placeholder-icon"></i>\n        <input type="search" autocorrect="off" placeholder="{{::ui.searchPlaceholder}}" ng-model="ui.searchValue">\n        \n        <!-- To clear text: show X in the right corner of the text box. Only show when ui.hideFooter is on -->\n        <a ng-if="ui.searchValue.length" ng-show="ui.hideFooter" on-tap="clearSearch()" class="input-button button-dark icon ion-android-close"></a>\n      </label>\n      <!-- When don\'t show footer, user can cancel from search bar button -->\n      <button ng-if="!ui.hideFooter" type="button" class="button button-clear" ng-click="clearSearch()">\n        {{ ui.cancelSearchButton }}\n      </button>\n      <button ng-if="ui.hideFooter" type="button" class="button button-clear" ng-click="closeModal()">\n        {{ ui.cancelButton }}\n      </button>\n    </div>\n\n    <ion-content class="has-header" ng-class="{\'has-subheader\':ui.hasSearch}">\n        <div class="text-center" ng-if="!ui.shortList && !showList" style="padding-top:40px;">\n            <h4 class="muted">{{::ui.loadListMessage}}</h4>\n            <p>\n                <ion-spinner></ion-spinner>\n            </p>\n        </div>\n        <div ng-if="showList">\n            <div ng-if="!ui.shortList">\n                <div class="list" ng-if="showList" class="animate-if">\n                    <div\n                      ng-class="{ \'{{::ui.itemClass}}\' : true, \'{{::ui.selectedClass}}\': compareValues(getSelectedValue(option), ui.value) }"\n                      collection-repeat="option in options track by $index"\n                      ng-click="setOption(option)"\n                      ng-class="{\'{{::ui.selectedClass}}\': compareValues(getSelectedValue(option), ui.value) }">\n                        <div compile="inner" compile-once="true"></div>\n                    </div>\n                </div>\n            </div>\n            <div ng-if="ui.shortList">\n                <div class="list">\n                    <div\n                      ng-repeat="option in options track by $index"\n                      ng-click="setOption(option)"\n                      ng-class="{ \'{{::ui.itemClass}}\' : true, \'{{::ui.selectedClass}}\': compareValues(getSelectedValue(option), ui.value) }">\n                        <div compile="inner" compile-once="true"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div ng-if="notFound && options.length == 0">\n            <div compile="notFound" compile-once="true" ng-click="closeModal()"></div>\n        </div>\n\n    </ion-content>\n\n    <ion-footer-bar ng-if="!ui.hideFooter" ng-class="::ui.headerFooterClass">\n        <button type="button" class="button button-stable modal-select-close-button" ng-click="closeModal()">{{ui.cancelButton}}</button>\n        <button type="button" ng-if="::!ui.hideReset" class="button button-stable" ng-click="unsetValue()">{{ui.resetButton}}</button>\n    </ion-footer-bar>\n\n</ion-modal-view>\n'}]);
//# sourceMappingURL=ionic-modal-select.min.js.map